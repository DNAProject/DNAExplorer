/*! 
 * jQuery Steps v1.0.1 - 08/23/2013
 * Copyright (c) 2013 Rafael Staib (http://www.jquery-steps.com)
 * Licensed under MIT http://www.opensource.org/licenses/MIT
 */
;(function(f,z){function T(a,b,d){var c=a.children(b.headerTag),e=a.children(b.bodyTag);c.length>e.length?l(H,"contents"):c.length<e.length&&l(H,"titles");var g=b.startIndex;d.stepCount=c.length;b.saveState&&f.cookie&&(b=f.cookie(I+p(a)),b=parseInt(b,0),!isNaN(b)&&b<d.stepCount&&(g=b));d.currentIndex=g;c.each(function(b){var d=f(this);b=e.eq(b);var c=b.data("mode"),c=null==c?m.html:v(m,/^\s*$/.test(c)||isNaN(c)?c:parseInt(c,0)),g=c===m.html||b.data("url")===z?"":b.data("url"),k=c!==m.html&&"1"===b.data("loaded"),
d=f.extend({},J,{title:d.html(),content:c===m.html?b.html():"",contentUrl:g,contentMode:c,contentLoaded:k});a.data("steps").push(d)})}function K(a,b){var d=a.find(".steps li").eq(b.currentIndex);a.triggerHandler("finishing",[b.currentIndex])?(d.addClass("done").removeClass("error"),a.triggerHandler("finished",[b.currentIndex])):d.addClass("error")}function n(a){for(var b=1;b<arguments.length;b++)a=a.replace(RegExp("\\{"+(b-1)+"\\}","gm"),arguments[b]);return a}function t(a,b){var d=p(a);return a.find("#"+
d+A+b)}function B(a,b){var d=p(a);return a.find("#"+d+w+b)}function r(a){return a.data("options")}function k(a){return a.data("state")}function C(a,b){var d=a.data("steps");(0>b||b>=d.length)&&l(D);return d[b]}function p(a){var b=a.data("uid");null==b&&(b="steps-uid-".concat(++L),a.data("uid",b));return b}function v(a,b){M("enumType",a);M("keyOrValue",b);if("string"===typeof b){var d=a[b];d===z&&l("The enum key '{0}' does not exist.",b);return d}if("number"===typeof b){for(d in a)if(a[d]===b)return b;
l("Invalid enum value '{0}'.",b)}else l("Invalid key or value type.")}function U(a){var b=f.extend(!0,{},V,a);return this.each(function(){var a=f(this),c={currentIndex:b.startIndex,currentStep:null,stepCount:0,transitionElement:null};a.data("options",b);a.data("state",c);a.data("steps",[]);T(a,b,c);W(a,b,c);a.bind("finishing.steps",b.onFinishing);a.bind("finished.steps",b.onFinished);a.bind("stepChanging.steps",b.onStepChanging);a.bind("stepChanged.steps",b.onStepChanged);b.enableKeyNavigation&&a.bind("keyup.steps",
X);a.find(".actions a").bind("click.steps",Y);b.autoFocus&&0===L&&t(a,b.startIndex).focus()})}function N(a,b,d,c,e){(0>c||c>d.stepCount)&&l(D);var g=e=f.extend({},J,e);a.data("steps").splice(c,0,g);d.currentIndex>=c&&(d.currentIndex++,E(a,b,d));d.stepCount++;var g=a.find(".content"),h=f(n("<{0}>{1}</{0}>",b.headerTag,e.title)),q=f(n("<{0}></{0}>",b.bodyTag));null!=e.contentMode&&e.contentMode!==m.html||q.html(e.content);0===c?g.prepend(q).prepend(h):B(a,c-1).after(q).after(h);O(a,q,c);P(a,b,d,h,c);
Q(a,b,d,c);x(a,b,d);return a}function X(a){var b=f(this),d=r(b),c=k(b);if(d.suppressPaginationOnFocus&&b.find(":focus").is(":input"))return a.preventDefault(),!1;37===a.keyCode?(a.preventDefault(),u(b,d,c,c.currentIndex-1)):39===a.keyCode&&(a.preventDefault(),u(b,d,c,c.currentIndex+1))}function R(a,b,d){if(0<d.stepCount){var c=C(a,d.currentIndex);if(!b.enableContentCache||!c.contentLoaded)switch(v(m,c.contentMode)){case m.iframe:a.find(".content > .body").eq(d.currentIndex).empty().html('<iframe src="'+
c.contentUrl+'" frameborder="0" scrolling="no" />').data("loaded","1");break;case m.async:var e=B(a,d.currentIndex)._aria("busy","true").empty().append(F(b.loadingTemplate,{text:b.labels.loading}));f.ajax({url:c.contentUrl,cache:!1}).done(function(a){e.empty().html(a)._aria("busy","false").data("loaded","1")})}}}function u(a,b,d,c){var e=d.currentIndex;return 0<=c&&c<d.stepCount&&!(b.forceMoveForward&&c<d.currentIndex)?(a=t(a,c),b=a.parent(),c=b.hasClass("disabled"),b._enableAria(),a.click(),e===
d.currentIndex&&c?(b._disableAria(),!1):!0):!1}function Y(a){a.preventDefault();var b=f(this);a=b.parent().parent().parent().parent();var d=r(a),c=k(a),b=b.attr("href");switch(b.substring(b.lastIndexOf("#"))){case "#finish":K(a,d,c);break;case "#next":u(a,d,c,c.currentIndex+1);break;case "#previous":u(a,d,c,c.currentIndex-1)}}function x(a,b,d){if(b.enablePagination){var c=a.find(".actions a[href$='#finish']").parent(),e=a.find(".actions a[href$='#next']").parent();b.forceMoveForward||(a=a.find(".actions a[href$='#previous']").parent(),
0<d.currentIndex?a._enableAria():a._disableAria());b.enableFinishButton&&b.showFinishButtonAlways?0===d.stepCount?(c._disableAria(),e._disableAria()):1<d.stepCount&&d.stepCount>d.currentIndex+1?(c._enableAria(),e._enableAria()):(c._enableAria(),e._disableAria()):0===d.stepCount?(c._hideAria(),e._showAria()._disableAria()):d.stepCount>d.currentIndex+1?(c._hideAria(),e._showAria()._enableAria()):b.enableFinishButton?(c._showAria(),e._hideAria()):e._disableAria()}}function S(a,b,d,c){var e=t(a,d.currentIndex),
g=f('<span class="current-info audible">'+b.labels.current+" </span>");b=a.find(".content > .title");null!=c&&(a=t(a,c),a.parent().addClass("done").removeClass("error")._deselectAria(),b.eq(c).removeClass("current").next(".body").removeClass("current"),g=a.find(".current-info"),e.focus());e.prepend(g).parent()._selectAria().removeClass("done")._enableAria();b.eq(d.currentIndex).addClass("current").next(".body").addClass("current")}function Q(a,b,d,c){for(var e=p(a);c<d.stepCount;c++){var f=e+A+c,
h=e+w+c,q=e+y+c,k=a.find(".title").eq(c)._setId(q);a.find(".steps a").eq(c)._setId(f)._aria("controls",h).attr("href","#"+q).html(F(b.titleTemplate,{index:c+1,title:k.html()}));a.find(".body").eq(c)._setId(h)._aria("labelledby",q)}}function W(a,b,d){var c=v(G,b.stepsOrientation)===G.vertical?" vertical":"",e=f(n('<{0} class="{1}">{2}</{0}>',b.contentContainerTag,"content "+b.clearFixCssClass,a.html())),g=f(n('<{0} class="{1}">{2}</{0}>',b.stepsContainerTag,"steps "+b.clearFixCssClass,'<ul role="tablist"></ul>')),
h=e.children(b.headerTag),k=e.children(b.bodyTag);a.attr("role","application").empty().append(g).append(e).addClass(b.cssClass+" "+b.clearFixCssClass+c);k.each(function(b){O(a,f(this),b)});k.eq(d.currentIndex)._showAria();h.each(function(c){P(a,b,d,f(this),c)});S(a,b,d);Z(a,b,d)}function O(a,b,d){a=p(a);var c=a+y+d;b._setId(a+w+d).attr("role","tabpanel")._aria("labelledby",c).addClass("body")._hideAria()}function Z(a,b,d){if(b.enablePagination){var c="";b.forceMoveForward||(c+=n('<li class="prev_step"><a href="#{0}" class="btn btn-link" role="menuitem">{1}</a></li>',
"previous",b.labels.previous));c+=n('<li class="next_step"><a href="#{0}" class="btn btn-default" role="menuitem">{1}</a></li>',"next",b.labels.next);b.enableFinishButton&&(c+=n('<li class="last_step"><a href="#{0}" class="btn btn-success" role="menuitem">{1}</a></li>',"finish",b.labels.finish));a.append(n('<{0} class="actions {1}"><ul role="menu" aria-label="{2}">{3}</ul></{0}>',b.actionContainerTag,b.clearFixCssClass,b.labels.pagination,c));x(a,b,d);R(a,b,d)}}function F(a,b){for(var d=a.match(/#([a-z]*)#/gi),
c=0;c<d.length;c++){var e=d[c],f=e.substring(1,e.length-1);b[f]===z&&l("The key '{0}' does not exist in the substitute collection!",f);a=a.replace(e,b[f])}return a}function P(a,b,d,c,e){var g=p(a),h=g+A+e,k=g+w+e,g=g+y+e;a=a.find(".steps > ul");var l=F(b.titleTemplate,{index:e+1,title:c.html()}),h=f('<li role="tab"><a id="'+h+'" href="#'+g+'" aria-controls="'+k+'">'+l+"</a></li>");b.enableAllSteps||h._disableAria();d.currentIndex>e&&h._enableAria().addClass("done");c._setId(g).attr("tabindex","-1").addClass("title");
0===e?a.prepend(h):a.find("li").eq(e-1).after(h);0===e&&a.find("li").removeClass("first").eq(e).addClass("first");e===d.stepCount-1&&a.find("li").removeClass("last").eq(e).addClass("last");h.children("a").bind("click.steps",$)}function E(a,b,d){b.saveState&&f.cookie&&f.cookie(I+p(a),d.currentIndex)}function aa(a,b,d,c,e){var g=a.find(".content > .body");a=v(s,b.transitionEffect);var h=b.transitionEffectSpeed;b=g.eq(c);g=g.eq(e);switch(a){case s.fade:case s.slide:c=a===s.fade?"fadeOut":"slideUp";var l=
a===s.fade?"fadeIn":"slideDown";d.transitionElement=b;g[c](h,function(){var a=f(this)._hideAria().parent().parent(),a=k(a);a.transitionElement&&(a.transitionElement[l](h,function(){f(this)._showAria()}),a.transitionElement=null)}).promise();break;case s.slideLeft:d=g.outerWidth(!0);a=c>e?d:-d;g.animate({left:c>e?-d:d},h,function(){f(this)._hideAria()}).promise();b.css("left",a+"px")._showAria().animate({left:0},h).promise();break;default:g._hideAria(),b._showAria()}}function $(a){a.preventDefault();
var b=f(this);a=b.parent().parent().parent().parent();var d=r(a),c=k(a),e=c.currentIndex;if(b.parent().is(":not(.disabled):not(.current)")&&(b=b.attr("href"),b=parseInt(b.substring(b.lastIndexOf("-")+1),0),(0>b||b>=c.stepCount)&&l(D),!(d.forceMoveForward&&b<c.currentIndex))){var g=c.currentIndex;a.triggerHandler("stepChanging",[c.currentIndex,b])?(c.currentIndex=b,E(a,d,c),S(a,d,c,g),x(a,d,c),R(a,d,c),aa(a,d,c,b,g),a.triggerHandler("stepChanged",[b,g])):a.find(".steps li").eq(g).addClass("error")}if(e===
c.currentIndex)return t(a,e).focus(),!1}function l(a){1<arguments.length&&(a=n.apply(this,arguments));throw Error(a);}function M(a,b){null==b&&l("The argument '{0}' is null or undefined.",a)}var L=0,I="jQu3ry_5teps_St@te_",A="-t-",w="-p-",y="-h-",D="Index out of range.",H="One or more corresponding step {0} are missing.";f.fn.steps=function(a){if(f.fn.steps[a])return f.fn.steps[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof a&&a)f.error("Method "+a+" does not exist on jQuery.steps");
else return U.apply(this,arguments)};f.fn.steps.add=function(a){var b=r(this),d=k(this);return N(this,b,d,d.stepCount,a)};f.fn.steps.finish=function(){var a=k(this);K(this,a)};f.fn.steps.getCurrentIndex=function(){return k(this).currentIndex};f.fn.steps.getCurrentStep=function(){return C(this,k(this).currentIndex)};f.fn.steps.getStep=function(a){return C(this,a)};f.fn.steps.insert=function(a,b){var d=r(this),c=k(this);return N(this,d,c,a,b)};f.fn.steps.next=function(){var a=r(this),b=k(this);return u(this,
a,b,b.currentIndex+1)};f.fn.steps.previous=function(){var a=r(this),b=k(this);return u(this,a,b,b.currentIndex-1)};f.fn.steps.remove=function(a){var b=r(this);var d=k(this);if(0>a||a>=d.stepCount||d.currentIndex===a)a=!1;else{this.data("steps").splice(a,1);d.currentIndex>a&&(d.currentIndex--,E(this,b,d));d.stepCount--;var c=p(this);this.find("#"+c+y+a).remove();B(this,a).remove();t(this,a).parent().remove();0===a&&this.find(".steps li").first().addClass("first");a===d.stepCount&&this.find(".steps li").eq(a).addClass("last");
Q(this,b,d,a);x(this,b,d);a=!0}return a};f.fn.steps.setStep=function(a,b){throw Error("Not yet implemented!");};f.fn.steps.skip=function(a){throw Error("Not yet implemented!");};var m=f.fn.steps.contentMode={html:0,iframe:1,async:2},G=f.fn.steps.stepsOrientation={horizontal:0,vertical:1},s=f.fn.steps.transitionEffect={none:0,fade:1,slide:2,slideLeft:3},J=f.fn.steps.stepModel={title:"",content:"",contentUrl:"",contentMode:m.html,contentLoaded:!1},V=f.fn.steps.defaults={headerTag:"h1",bodyTag:"div",
contentContainerTag:"div",actionContainerTag:"div",stepsContainerTag:"div",cssClass:"wizard",clearFixCssClass:"clearfix",stepsOrientation:G.horizontal,titleTemplate:'<span class="number">#index#.</span> #title#',loadingTemplate:'<span class="spinner"></span> #text#',autoFocus:!1,enableAllSteps:!1,enableKeyNavigation:!0,enablePagination:!0,suppressPaginationOnFocus:!0,enableContentCache:!0,enableFinishButton:!0,preloadContent:!1,showFinishButtonAlways:!1,forceMoveForward:!1,saveState:!1,startIndex:0,
transitionEffect:s.none,transitionEffectSpeed:200,onStepChanging:function(a,b,d){return!0},onStepChanged:function(a,b,d){},onFinishing:function(a,b){return!0},onFinished:function(a,b){},labels:{current:"current step:",pagination:"Pagination",finish:"Finish",next:"Next",previous:"Previous",loading:"Loading ..."}};f.fn.extend({_aria:function(a,b){return this.attr("aria-"+a,b)},_removeAria:function(a){return this.removeAttr("aria-"+a)},_enableAria:function(){return this.removeClass("disabled")._aria("disabled",
"false")},_disableAria:function(){return this.addClass("disabled")._aria("disabled","true")},_hideAria:function(){return this.hide()._aria("hidden","true")},_showAria:function(){return this.show()._aria("hidden","false")},_selectAria:function(){return this.addClass("current")._aria("selected","true")},_deselectAria:function(){return this.removeClass("current")._aria("selected","false")},_setId:function(a){return this.attr("id",a)}})})(jQuery);